<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <script th:src="@{webjars/jquery/3.3.1/jquery.min.js}"></script>
    <script th:src="@{webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
    <link rel="stylesheet" th:href="@{webjars/bootstrap/4.1.3/css/bootstrap.min.css}" />
    <link rel="stylesheet" th:href="@{css/style.css}"/>
</head>
<body>
<div class="container">
    <div class="form row">
        <form class="form-horizontal col-md-offset-3" id="login_form"  action="/login" method="post">
            <h3 class="form-title">LOGIN</h3>
            <div class="col-md-9">
                <div class="form-group">
                    <i class="fa fa-user fa-lg"></i>
                    <input class="form-control required" type="text" placeholder="Username" id="username" name="username" autofocus="autofocus" maxlength="20"/>
                </div>
                <div class="form-group">
                    <i class="fa fa-lock fa-lg"></i>
                    <input class="form-control required" type="password" placeholder="Password" id="password" name="password" maxlength="8"/>
                </div>
                <div class="form-group">
                    <label class="checkbox">
                        <input type="checkbox" name="remember" value="1"/>记住
                    </label>
                </div>
                <div class="form-group col-md-offset-9">
                    <button type="submit" class="btn btn-success pull-right" name="submit">登录</button>
                </div>
            </div>
        </form>
    </div>
</div>
</body>
<script>
    function myfun() {
        var domain = window.location.pathname;
        var domain2 = window.location.search;
        domain+=domain2;
        var url = '/login?error';
        if( domain == url){
            // alert(domain);
            alert('账号或密码错误！\r\n请重新输入！');
        }
    }
    setTimeout("myfun()","200");
        // $("button").click(function() {
        //     var user = new Object();
        //     user.loginCode = $.trim($("#username").val());
        //     user.password = $.trim($("#password").val());
        //     if (user.loginCode == "" || user.password == "") {
        //         alert("用户名或密码不能为空！");
        //     }
        //     else {
        //         $.ajax({
        //             type:'POST',  //提交方法是POST
        //             url:'/login', //请求的路径
        //             data:{username:user.loginCode,password:user.password
        //             }, //以JSON字符串形式把 user 传到后台
        //             dataType:'html', //后台返回的数据类型是html文本
        //             timeout:1000,  //请求超时时间，毫秒
        //             error:function(){  //请求失败的回调方法
        //                 alert("用户名或密码错误，请重新输入！");
        //             },
        //             success:function(result){   //请求成功的回调方法
        //                 if(result != "" && result >0){
        //                     //若登录成功，跳转到"/main.html"
        //                     window.location.href='/main';
        //                 }
        //             }
        //         });
        //
        //     }
        // });
    // };
</script>
</html>